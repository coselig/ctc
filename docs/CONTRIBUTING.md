# é–‹ç™¼è€…è²¢ç»æŒ‡å—

æ­¡è¿ç‚º CTC å·¥åœ°ç´€éŒ„ç…§ç‰‡ç³»çµ±è²¢ç»ä»£ç¢¼ï¼æœ¬æŒ‡å—å°‡å¹«åŠ©æ‚¨äº†è§£å¦‚ä½•åƒèˆ‡å°ˆæ¡ˆé–‹ç™¼ã€‚

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚

- **Flutter SDK**: >=3.0.0
- **Dart SDK**: >=3.0.0
- **Android Studio** æˆ– **VS Code** (æ¨è–¦å®‰è£ Flutter æ“´å±•)
- **Git**: ç‰ˆæœ¬æ§åˆ¶

### åˆå§‹è¨­å®š

1. **è¤‡è£½å°ˆæ¡ˆ**

   ```bash
   git clone [repository-url]
   cd ctc
   ```

2. **å®‰è£ä¾è³´**

   ```bash
   flutter pub get
   ```

3. **ç’°å¢ƒé…ç½®**

   ```bash
   # è¤‡è£½ç’°å¢ƒé…ç½®ç¯„æœ¬
   cp .env.example .env
   # ç·¨è¼¯ç’°å¢ƒè®Šæ•¸
   ```

4. **åŸ·è¡Œå°ˆæ¡ˆ**

   ```bash
   flutter run
   ```

## ğŸ—ï¸ å°ˆæ¡ˆæ¶æ§‹

### ç›®éŒ„çµæ§‹

```
lib/
â”œâ”€â”€ main.dart              # æ‡‰ç”¨ç¨‹å¼å…¥å£
â”œâ”€â”€ app.dart               # æ‡‰ç”¨ç¨‹å¼ä¸»è¦é…ç½®
â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶
â”œâ”€â”€ models/                # è³‡æ–™æ¨¡å‹
â”‚   â”œâ”€â”€ permission_level.dart
â”‚   â””â”€â”€ floor_plan_permission.dart
â”œâ”€â”€ services/              # æ¥­å‹™é‚è¼¯æœå‹™
â”‚   â”œâ”€â”€ permission_service.dart
â”‚   â””â”€â”€ supabase_service.dart
â”œâ”€â”€ pages/                 # é é¢å…ƒä»¶
â”‚   â”œâ”€â”€ permission_management_page.dart
â”‚   â””â”€â”€ floor_plan_selector_page.dart
â”œâ”€â”€ widgets/               # å¯é‡ç”¨å…ƒä»¶
â”‚   â””â”€â”€ unified_card.dart
â””â”€â”€ theme/                 # ä¸»é¡Œå’Œæ¨£å¼
```

### ç¨‹å¼ç¢¼é¢¨æ ¼

- éµå¾ª [Dart Style Guide](https://dart.dev/guides/language/effective-dart/style)
- ä½¿ç”¨ `dart format .` æ ¼å¼åŒ–ç¨‹å¼ç¢¼
- åŸ·è¡Œ `dart analyze` æª¢æŸ¥ç¨‹å¼ç¢¼å“è³ª

## ğŸ”„ é–‹ç™¼æµç¨‹

### 1. åŠŸèƒ½é–‹ç™¼

1. **å‰µå»ºåˆ†æ”¯**

   ```bash
   git checkout -b feature/åŠŸèƒ½åç¨±
   ```

2. **é–‹ç™¼åŠŸèƒ½**
   - ç·¨å¯«ç¨‹å¼ç¢¼
   - æ–°å¢å–®å…ƒæ¸¬è©¦
   - æ›´æ–°æ–‡æª”

3. **æ¸¬è©¦é©—è­‰**

   ```bash
   # åŸ·è¡Œæ¸¬è©¦
   flutter test
   
   # æª¢æŸ¥ç¨‹å¼ç¢¼å“è³ª
   dart analyze
   
   # æ ¼å¼åŒ–ç¨‹å¼ç¢¼
   dart format .
   ```

4. **æäº¤è®Šæ›´**

   ```bash
   git add .
   git commit -m "feat: æ–°å¢åŠŸèƒ½æè¿°"
   git push origin feature/åŠŸèƒ½åç¨±
   ```

### 2. æäº¤è¨Šæ¯è¦ç¯„

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) æ ¼å¼ï¼š

- `feat:` æ–°åŠŸèƒ½
- `fix:` éŒ¯èª¤ä¿®å¾©
- `docs:` æ–‡æª”æ›´æ–°
- `style:` ç¨‹å¼ç¢¼æ ¼å¼èª¿æ•´
- `refactor:` ç¨‹å¼ç¢¼é‡æ§‹
- `test:` æ¸¬è©¦ç›¸é—œ
- `chore:` ç¶­è­·ä»»å‹™

ç¯„ä¾‹ï¼š

```
feat(permission): æ–°å¢æ¬Šé™ç®¡ç†ç³»çµ±
fix(database): ä¿®å¾© RLS éè¿´å•é¡Œ
docs(readme): æ›´æ–°å®‰è£æŒ‡å—
```

## ğŸ§ª æ¸¬è©¦æŒ‡å—

### å–®å…ƒæ¸¬è©¦

```bash
# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
flutter test

# åŸ·è¡Œç‰¹å®šæ¸¬è©¦æ–‡ä»¶
flutter test test/services/permission_service_test.dart

# ç”¢ç”Ÿæ¸¬è©¦è¦†è“‹ç‡å ±å‘Š
flutter test --coverage
```

### æ•´åˆæ¸¬è©¦

```bash
# åŸ·è¡Œæ•´åˆæ¸¬è©¦
flutter test integration_test/
```

### æ¸¬è©¦æ’°å¯«åŸå‰‡

- æ¯å€‹å…¬é–‹æ–¹æ³•éƒ½æ‡‰æœ‰å°æ‡‰æ¸¬è©¦
- æ¸¬è©¦é‚Šç•Œæ¢ä»¶å’ŒéŒ¯èª¤æƒ…æ³
- ä½¿ç”¨æœ‰æ„ç¾©çš„æ¸¬è©¦åç¨±
- ä¿æŒæ¸¬è©¦ç¨ç«‹æ€§

## ğŸ“ æ–‡æª”è²¢ç»

### æ–‡æª”çµæ§‹

```
docs/
â”œâ”€â”€ README.md              # ä¸»è¦å°èˆª
â”œâ”€â”€ database/              # è³‡æ–™åº«ç›¸é—œ
â”œâ”€â”€ widgets/               # å…ƒä»¶æ–‡æª”
â”œâ”€â”€ features/              # åŠŸèƒ½èªªæ˜
â””â”€â”€ CONTRIBUTING.md        # æœ¬æ–‡ä»¶
```

### æ–‡æª”æ’°å¯«åŸå‰‡

- ä½¿ç”¨æ¸…æ™°çš„ Markdown æ ¼å¼
- æä¾›ç¨‹å¼ç¢¼ç¯„ä¾‹
- åŒ…å«è¢å¹•æˆªåœ–ï¼ˆå¦‚é©ç”¨ï¼‰
- ä¿æŒæ–‡æª”èˆ‡ç¨‹å¼ç¢¼åŒæ­¥

## ğŸ› å•é¡Œå›å ±

### å›å ±å‰æª¢æŸ¥

1. æœå°‹ç¾æœ‰ Issues æ˜¯å¦æœ‰ç›¸åŒå•é¡Œ
2. ç¢ºèªä½¿ç”¨çš„æ˜¯æœ€æ–°ç‰ˆæœ¬
3. æº–å‚™é‡ç¾æ­¥é©Ÿå’Œç’°å¢ƒè³‡è¨Š

### Issue æ¨¡æ¿

```markdown
## å•é¡Œæè¿°
[æ¸…æ¥šæè¿°é‡åˆ°çš„å•é¡Œ]

## é‡ç¾æ­¥é©Ÿ
1. é€²å…¥ [é é¢/åŠŸèƒ½]
2. é»æ“Š [æŒ‰éˆ•/å…ƒä»¶]
3. è§€å¯Ÿåˆ° [éŒ¯èª¤è¡Œç‚º]

## é æœŸè¡Œç‚º
[æè¿°é æœŸçš„æ­£ç¢ºè¡Œç‚º]

## ç’°å¢ƒè³‡è¨Š
- Flutter ç‰ˆæœ¬ï¼š
- ä½œæ¥­ç³»çµ±ï¼š
- è£ç½®å‹è™Ÿï¼š

## å…¶ä»–è³‡è¨Š
[å…¶ä»–ç›¸é—œè³‡è¨Šã€éŒ¯èª¤è¨Šæ¯ã€è¢å¹•æˆªåœ–ç­‰]
```

## ğŸ” å®‰å…¨æ€§æ³¨æ„äº‹é …

### æ•æ„Ÿè³‡è¨Š

- ä¸è¦æäº¤ API é‡‘é‘°æˆ–å¯†ç¢¼
- ä½¿ç”¨ç’°å¢ƒè®Šæ•¸ç®¡ç†æ©Ÿå¯†è³‡è¨Š
- å®šæœŸæª¢æŸ¥æäº¤æ­·å²æ˜¯å¦åŒ…å«æ•æ„Ÿè³‡æ–™

### æ¬Šé™ç³»çµ±

- æ‰€æœ‰æ¬Šé™æª¢æŸ¥éƒ½è¦åœ¨ä¼ºæœå™¨ç«¯é€²è¡Œ
- UI æ¬Šé™æ§åˆ¶åƒ…ç‚ºä½¿ç”¨è€…é«”é©—è€ƒé‡
- æ¸¬è©¦å„ç¨®æ¬Šé™å±¤ç´šçš„é‚Šç•Œæƒ…æ³

## ğŸ“š å­¸ç¿’è³‡æº

### Flutter ç›¸é—œ

- [Flutter å®˜æ–¹æ–‡æª”](https://flutter.dev/docs)
- [Dart èªè¨€æŒ‡å—](https://dart.dev/guides)
- [Flutter ç¨‹å¼ç¢¼å¯¦é©—å®¤](https://codelabs.developers.google.com/codelabs/flutter/)

### è³‡æ–™åº«ç›¸é—œ

- [Supabase æ–‡æª”](https://supabase.com/docs)
- [PostgreSQL RLS æŒ‡å—](https://www.postgresql.org/docs/current/ddl-rowsecurity.html)

## ğŸ¤ ç¤¾ç¾¤è¡Œç‚ºæº–å‰‡

- ä¿æŒå‹å–„å’Œå°Šé‡çš„æ…‹åº¦
- æ­¡è¿æ–°æ‰‹æå•å’Œå­¸ç¿’
- æä¾›å»ºè¨­æ€§çš„æ„è¦‹å’Œå›é¥‹
- éµå®ˆé–‹æºå°ˆæ¡ˆçš„æœ€ä½³å¯¦å‹™

## ğŸ“ è¯çµ¡æ–¹å¼

å¦‚æœ‰ä»»ä½•å•é¡Œæˆ–å»ºè­°ï¼Œæ­¡è¿é€éä»¥ä¸‹æ–¹å¼è¯çµ¡ï¼š

- é–‹å•Ÿ GitHub Issue
- ç™¼é€ Pull Request
- åƒèˆ‡å°ˆæ¡ˆè¨è«–

æ„Ÿè¬æ‚¨çš„è²¢ç»ï¼ğŸ‰
